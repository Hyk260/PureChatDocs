# 更新日志

### 0.8.8 @2025-09-12

- 统一代码格式规范，优化构建配置
- 重构拖拽功能和事件处理，改进类型定义
- 优化自定义元素错误处理和文本换行
- 改进编辑器类型定义和代码结构
- 配置import排序规则分组
- 优化网络搜索功能，仅在本地模式启用

### 0.8.7 @2025-08-19

- 重构消息状态组件，优化错误处理和显示逻辑
- 重构消息状态显示和链接处理功能
- 优化消息编辑框交互体验，支持快捷键
- 重构聊天组件，优化消息状态类型定义
- 优化群成员排序和@成员功能
- 修复网络状态提示和弹框定位问题

### 0.8.6 @2025-08-12

- 重构聊天服务模块，优化代码结构和类型定义
- 实现本地聊天服务核心功能，支持单例模式
- 更新腾讯云IM SDK至3.5.8版本
- 优化网络搜索功能

### 0.8.5 @2025-08-07

- 项目从JavaScript全面迁移至TypeScript
- 重构ESLint配置，优化代码规范和类型检查
- 优化构建脚本，支持TypeScript编译
- 更新VSCode配置，提升开发体验

## 0.8.4 @2025.6.30
- 增加用户登录页面的多种登录方式和状态管理
- 添加自定义脚注规则和链接处理逻辑，优化 Markdown 解析功能
- 重构模型和访问控制存储逻辑
- 优化自定义消息组件，简化脚注链接逻辑，调整文件项工具提示逻辑
- 移除无用代码并修复助手消息计数显示问题
- 添加消息时间线开关功能并优化HTML转义逻辑

## 0.8.3 @2025.5.26
- 在OpenAiApi类中添加401错误处理逻辑；在Markdown组件中引入prettyObject以处理非字符串标记
- 添加刷新token逻辑及优化请求拦截器
- 修复请求处理和状态码错误消息映射
- 添加文件模型，支持查询、创建、更新和删除操作
- 更新 base64ToFile 函数，添加默认文件名参数；在处理图片消息时传递文件名
- 更新截图功能，优化图像下载逻辑，增加加载状态处理
- 优化提及和附件处理逻辑，改进 HTML 生成和解析，增强用户体验

## 0.7.8 @2025.3.10
- 重构聊天状态管理，添加滚动控制状态，优化提及模态框逻辑
- 添加环境配置文件创建逻辑，支持不同环境的默认配置
- 添加清理构建目录的脚本，优化用户登出时的加载状态处理
- 更新 GitHub Actions 工作流程，优化静态内容部署配置

## 0.7.6 @2025.2.27
- 更新GitHub登录逻辑，重构授权处理；注释掉Electron构建配置中的图标设置
- 优化本地模式下的聊天初始化逻辑，重构LocalChat导出方式
- 更新环境变量配置，添加路由模式；调整.gitignore文件，优化静态内容部署工作流程注释

## 0.7.5 @2025.2.6
- 优化用户头像组件，支持动态大小；重构好友列表和个人资料卡片逻辑
- 引入 Pinia 状态管理，重构侧边栏和用户模块逻辑，优化组件数据管理
- 优化提及列表过滤逻辑，修复搜索功能中的参数传递问题，增加空值检查
- 调整本地 SVG 图标支持，更新相关组件以使用 local-icon 属性

## 0.7.4 @2025.1.27
- 添加 isWindowsAppStyle 函数以动态调整 Windows 应用样式
- 修正容器类名拼写错误，优化样式结构；更新状态判断逻辑以排除特定类型
- 优化聊天实例初始化，移除动态导入模块的异步处理，简化代码结构
- 添加 UnoCSS 支持，移除 Tailwind CSS 配置，优化样式管理
- 添加 Vitest 测试框架支持，新增基本测试用例和配置文件
- 移除 importModules 函数，优化模块导入方式
- 优化CSS样式，调整emoji映射，改进截图功能的错误处理
- 重构拖动逻辑，优化聊天框和编辑器高度调整，添加动画帧处理

## 0.7.3 @2025.1.20
- 优化工具调用消息处理，添加 MacOS 检测，更新插件数据获取逻辑
- 优化拖拽控制器样式，动态设置光标样式，提升用户体验
- 修复流式聊天处理中的可选链访问，优化 JSON 解析逻辑；调整工具插件导入路径
- 重构流式聊天处理逻辑，提取 handleStreamingChat 函数，优化代码结构
- 优化用户登录信息获取，添加天气获取功能，调整工具插件结构

## 0.7.2 @2025.1.15
- 定义模块与 chunk 名称的映射关系，优化手动分块逻辑
- 优化模块分块，调整时间格式化逻辑，增强会话管理和菜单交互
- 增强消息修改功能，添加错误处理，优化代码结构和样式
- 更新 GitHub 配置，调整温度参数，优化工具调用逻辑，增强错误处理
- 更新消息创建逻辑，重命名文本消息函数，优化本地模式处理

## 0.7.0 @2025.1.8
- 添加本地数据库支持，优化存储逻辑，更新依赖库，调整模型描述

## 0.6.1 @2024.12.27
- 修复消息ID和会话ID错误，优化删除消息逻辑
- 添加GitHub API支持，配置相关环境变量及模型
- 更新多个模型配置，优化模型展示和聊天功能，调整状态管理逻辑

## 0.6.0 @2024.11.28
- 个人卡片添加动画效果及优化样式细节
- 升级vue-draggable-next至2.2.1并优化拖拽样式与逻辑
- 优化拖拽区域样式及逻辑
- 修复markdown高亮代码转义问题
- 优化初始化加载动画样式及结构

## 0.5.9 @2024.11.21
- 增加ai推荐问题展示及优化消息处理逻辑
- 增加预设提示词及优化消息自定义数据处理
- 优化消息状态显示及分享功能

## 0.5.8 @2024.11.11
- 添加Star History图表
- 优化消息处理和动态内容展示
- 优化头像获取逻辑和消息处理
- 增加群组修改限制和异常处理
- 升级Tencent Cloud Chat SDK至3.4.6
- 调整AI配置及优化用户头像组件
- 优化viewport设置，升级vue-devtools，调整elementPlus组件
- 优化消息处理逻辑及时间分割功能
- 优化消息加载与合并转发逻辑，防止重复加载
- 优化布局组件结构及元数据配置
- 增加菜单组件及优化图标样式
- 添加置顶/取消置顶图标及优化右键菜单逻辑

## 0.5.7 @2024.10.30
- 优化开发环境配置，vue-devtools "Y" "N"
- 重构代码，移除无用类和方法，优化性能和可读性
- 优化消息处理和动态内容展示

## 0.5.6 @2024.10.23
### 变更
- 优化图片展示逻辑，增加高度限制
- @全体成员通知不受消息免打扰影响
- 重构消息删除逻辑，优化代码可读性
- 重构消息更新逻辑，简化代码结构
- 重构聊天室骨架屏，优化用户体验
### 修复
- 修复默认头像展示问题
- 修复群接口报错
- 修改会话接口参数名称，优化消息加载逻辑

## 0.5.5 @2024.10.10
### 新增
- 新增部分头像大图预览
- 支持会话处理及搜索功能
### 修复
- 修复时间线错乱问题
- 修复ai回复消息时滚动条到底部时机

## 0.5.4 @2024.9.30
### 变更
- 更新AI工具函数，优化模型选择及时间格式化
### 新增
- chatgpt支持图片识别
- 添加LLaVA模型支持，优化AI平台兼容性
### 修复
- 修复切换账号后apikey缓存问题

## 0.5.3 @2024.9.24
### 变更
- timeFormat函数优化
- 配置自定义云端openai api key 与 porxy

## 0.5.2 @2024.9.18
### electron
- Update config across app, fix minor UI inconsistencies
- 更新标题栏配置和优化代码，修复错误

## 0.5.1 @2024.9.11
### 变更
- 增加文件类型图标支持exe json js svg log
- 会话草稿优化 支持图片 表情包 文件 文字 并列展示
- 修改Ollama默认模型 qwen2:7b -> llama3.1:8b
### electron
- 修复pnpm安装依赖时出现的错误

## 0.5.0 @2024.8.30
### 变更
- ElImageViewer
- 打包视图分享插件 rollup-plugin-visualizer
- 移除无服务器模式相关配置和逻辑
- 个人详情卡片
- 更新AI平台服务配置，优化错误处理和日志记录，更新视图和代码优化交互
- 增加文件类型支持
- 截图分享自定义渐变背景色

## 0.4.9 @2024.8.20
### 新增
- 聊天截图包含助手提示词选项
### 优化 
- 优化mention弹框自适应高度
- 会话列表缓存
- 优化部分样式
- 优化长图消息发送时出现的抖动问题
### 修复
- 修复mention弹框键盘上下键切失效问题

## 0.4.8 @2024.8.12
### 变更
- 修改chatgpt默认模型为 "gpt-4o-mini"
### 优化
- 流式消息到底部更新时机
- ai助手骨架屏
- updata element-plus ^2.8.0
### 修复
- 修复video消息被遮挡问题
### 新增
- 分享聊天截图支持一键复制
### electron
- 支持托盘

## 0.4.7 @2024.8.7
### 新增
- ollama本地大模型适配流式输出
- 支持ollama本地大模型 [ollama](https://ollama.com/)
- 聊天记录截图分享保存新增JPG SVG WEBP类型
### 修复
- prompt bug
- 修复图片消息发送中状态时被消息框遮挡问题
- 修复图片消息预览大图关闭右键菜单
- 修复右键菜单复制的图片模糊问题
### 优化
- 优化图片消息宽高比
### electron
- 控制台中文乱码
- 自定义titlebar标题栏
- Notification for Electron app
- 支持win32位

## 0.4.6 @2024.7.29
### 修复
- 修复部分样式问题
- 修复web端与桌面端第三方github登录时出现的部分问题
- 修复草稿信息HTML转义错误
- 修复markdown代码一键复制在部分场景下报错
### 优化
- 发送按钮样式优化
### electron
- 支持文件下载进度，打开文件夹，打开文件
- 主进程源代码加密
- 修复截图程序路径问题

## 0.4.5 @2024.7.23
### 优化
- 自定义 highlight 代码语法样式 
- 自定义 markdown 语法样式
- 黑暗主题样式色值与精细度优化
### 新增
- ai模型列表改造 支持更多模型选项
- 聊天记录截屏分享功能 [modern-screenshot](https://github.com/qq15725/modern-screenshot)

## 0.4.4 @2024.7.19
### 修复
- 修复Markdown部分样式问题
### 新增
- 支持完整的Markdown渲染
- 动态导入全局组件
### 优化
- 优化tailwind配置项
- ai助理页面宽度自适应
### 变更
- 关闭web端截屏入口（体验不友好）
- 替换Markdown插件 `marked` → `markdown-it` [markdown-it](https://github.com/markdown-it/markdown-it)

## 0.4.3 @2024.7.4
### 修复
- 修复会话草稿
- 修复ai助理切换页面Markdown格式代码高亮重复渲染bug
### 新增
- 角色助手提示词信息支持markdown语法
- 添加选模型弹框窗口
- 添加tailwind css
- `noService`模式

## 0.4.2 @2024.6.12
### 修复
- 修复svg图标色差
- 修复相关依赖报错

## 0.4.1 @2024.6.12
### 新增
- 添加 buildTime
### 修复
- 修复个别情况下无法加载消息问题

## 0.4.0 @2024.6.11
### 新增
- 新增ai助理页面 并支持自定义预设提示词
### 变更
- 使用Vite5重构
- 修改chatgpt默认模型为 "gpt-3.5-turbo-16k"

## 0.3.6 @2024.5.27
### 变更
- ui页面重构
### 新增
- 新增ChatGpt提示词(prompt)
### 修复
- 修复与机器人对话一定概率时间戳重复bug

## 0.3.5 @2024.5.20
### 新增
- 集成智谱`ChatGLM`系列模型（GLM-4/GLM-4-vision/GLM-3-turbo），为用户提供了另一种高效的会话模型选择。[了解更多](https://www.zhipuai.cn/)
- 集成了`零一万物`模型，系列 API 具备较快的推理速度，这不仅缩短了处理时间，同时也保持了出色的模型效果。[了解更多](https://www.lingyiwanwu.com/)

## 0.3.4 @2024.5.14
### 新增
- 侧边栏应用配置url新窗口打开
### 优化
- 导航栏拖拽逻辑优化
### 修复
- 修复调整输入框高度后使用回复消息窗口抖动问题

## 0.3.3 @2024.5.8
### 新增
- 群聊支持点击昵称@成员 添加群主标识
### 优化
- 优化会话置顶样式，调整群成员昵称显示
- element-plus按需引入组件调整

## 0.3.2 @2024.4.30
### 新增
- 支持github授权登录
- 通讯录我的好友模块
### 优化
- 项目底层依赖升级
### 变更
- 后端接口地址替换

## 0.3.1 @2024.4.24
### 新增
- chatgpt模型标识
### 修复
- 修复聊天工作室切换路由页面白屏
### 变更
- 调整[窗口抖动]自定义消息格式

## 0.3.0 @2024.4.11
### 新增
- web端支持截屏
- 支持发送视频消息展示与预览 artplayer
### 优化
- 消息框复制粘贴逻辑优化
### 修复
- 修复消息混发相关问题

## 0.2.9 @2024.4.9
### 变更
- 消息发送结构体重构
### 新增
- 支持多类型消息混合发送
- 消息列表折叠与消息框展开输入
### 修复
- 修复部分样式问题
